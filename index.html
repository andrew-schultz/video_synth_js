<!doctype html>
<html>
    <head>
        <meta name="viewport" content="width=device-width">
        <link href="css/main.css" rel="stylesheet" />
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script> -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.js"></script> -->
    </head>
    <body>
        <select id="videoSourceSelect" onchange="setVideoSource()" name="video"></select>
        <select id="audioSourceSelect" onchange="setAudioSource()" name="audio"></select>
        <button id="start" onclick="startLoop()">Start</button>

        <div class="sidebar">
            <div class="containers">
                <div class="toggles_container main_container">
                    <div class="toggle_container sub_container row">
                        <label for="beatDetectBoxes">beat detect boxes</label>
                        <input id="beatDetectBoxes" type="checkbox" onchange="setVarToggle('beatDetectBoxes')" name="beatDetectBoxes"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="infiniteCapture">infinite image capture</label>
                        <input id="infiniteCapture" type="checkbox" onchange="setVarToggle('infiniteCapture')" name="infiniteCapture"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="fillOn">fill On</label>
                        <input id="fillOn" type="checkbox" onchange="setVarToggle('fillOn')" name="fillOn"></input>
                    </div>
                    
                    <div class="toggle_container sub_container row">
                        <label for="justLines">justLines</label>
                        <input id="justLines" type="checkbox" onchange="setVarToggle('justLines')" name="justLines"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="justWalls">justWalls</label>
                        <input id="justWalls" type="checkbox" onchange="setVarToggle('justWalls')" name="justWalls"></input>    
                    </div>
                    
                    <div class="toggle_container sub_container row">
                        <label for='linesAndWalls'>lines and walls</label>
                        <input id="linesAndWalls" type="checkbox" onchange="setVarToggle('linesAndWalls')" name="linesAndWalls"></input>
                    </div>

                    <br>

                    <div class="toggle_container sub_container row">
                        <label for="infiniteMirror">infiniteMirror</label>
                        <input id="infiniteMirror" type="checkbox" onchange="setVarToggle('infiniteMirror')" name="infiniteMirror"></input>
                    </div>

                    <br>
                    
                    <div class="toggle_container sub_container row">
                        <label for="middleSphere">middleSphere</label>
                        <input id="middleSphere" type="checkbox" onchange="setVarToggle('middleSphere')" name="middleSphere"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="middleSphereVideo">middleSphereVideo</label>
                        <input id="middleSphereVideo" type="checkbox" onchange="setVarToggle('middleSphereVideo')" name="middleSphereVideo"></input>
                    </div>
                    
                    <div class="toggle_container sub_container row">
                        <label for="movingSphere">movingSphere</label>
                        <input id="movingSphere" type="checkbox" onchange="setVarToggle('movingSphere')" name="movingSphere"></input>    
                    </div>
                    
                    <div class="toggle_container sub_container row">
                        <label for="movingSphereSmooth">movingSphereSmooth</label>
                        <input id="movingSphereSmooth" type="checkbox" onchange="setVarToggle('movingSphereSmooth')" name="movingSphereSmooth"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="movingCenter">movingCenter</label>
                        <input id="movingCenter" type="checkbox" onchange="setVarToggle('movingCenter')" name="movingCenter"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="lockCenters">lockCenters</label>
                        <input id="lockCenters" type="checkbox" onchange="setVarToggle('lockCenters')" name="lockCenters"></input>
                    </div>

                    <br>

                    <div class="toggle_container sub_container row">
                        <label for="metronomBoxes">metronomeBoxes</label>
                        <input id="metronomeBoxes" type="checkbox" onchange="setVarToggle('metronomeBoxes')" name="metronomeBoxes"></input>
                    </div>

                    <br>
                    
                    <div class="toggle_container sub_container row">
                        <label for="rectangleVideo">rectangleVideo</label>
                        <input id="rectangleVideo" type="checkbox" onchange="setVarToggle('rectangleVideo')" name="rectangleVideo"></input>
                    </div>

                    <br>

                    <div class="toggle_container sub_container row">
                        <label for="terrain">terrain</label>
                        <input id="terrain" type="checkbox" onchange="setVarToggle('terrain')" name="terrain"></input>
                    </div>

                    <br>

                    <div class="toggle_container sub_container row">
                        <label for="invertCaptureDepth">invertCaptureDepth</label>
                        <input id="invertCaptureDepth" type="checkbox" onchange="setVarToggle('invertCaptureDepth')" name="invertCaptureDepth"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="enableFractal">enableFractal</label>
                        <input id="enableFractal" type="checkbox" onchange="setVarToggle('enableFractal')" name="enableFractal"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="thresholdFilter">thresholdFilter</label>
                        <input id="thresholdFilter" type="checkbox" onchange="setVarToggle('thresholdFilter')" name="thresholdFilter"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="posterizeFilter">posterizeFilter</label>
                        <input id="posterizeFilter" type="checkbox" onchange="setVarToggle('posterizeFilter')" name="posterizeFilter"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="blurFilter">blurFilter</label>
                        <input id="blurFilter" type="checkbox" onchange="setVarToggle('blurFilter')" name="blurFilter"></input>
                    </div>

                    <div class="toggle_container sub_container row">
                        <label for="opaqueFilter">opaqueFilter</label>
                        <input id="opaqueFilter" type="checkbox" onchange="setVarToggle('opaqueFilter')" name="opaqueFilter"></input>
                    </div>

                </div>

                <hr>

                <div class="multipliers_container main_container">
                    <div class="multiplier_container sub_container column">
                        <label for="metronomeRate">metronomeRate</label>
                        <input id="metronomeRate" type="range" min="1" max="10" value="5" onchange="setMultiplier('metronomeRate', event)">
                    </div>
                    
                    <div class="multiplier_container sub_container column">
                        <label for="movementRange">movementRange</label>
                        <input id="movementRange" type="range" min="1" max="10" value="1" onchange="setMultiplier('movementRange', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="terrainRange">terrainRange</label>
                        <input id="terrainRange" type="range" min="1" max="20" value="1" step="1" onchange="setMultiplier('terrainRange', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="infiniteCaptureRate">infinite Capture Rate</label>
                        <input id="infiniteCaptureRate" type="range" min="1" max="10" value="2" onchange="setMultiplier('infiniteCaptureRate', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="infiniteCaptureListMax">infiniteCapture List Max</label>
                        <input id="infiniteCaptureListMax" type="range" min="1" max="10" value="5" onchange="setMultiplier('infiniteCaptureListMax', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="infiniteCaptureInvertedModifier">infiniteCapture Inverted Modifier</label>
                        <input id="infiniteCaptureInvertedModifier" type="range" min="0.1 " max="1.0" value="1.0" step="0.1" onchange="setMultiplier('infiniteCaptureInvertedModifier', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="infiniteCaptureModifier">infiniteCapture Modifier</label>
                        <input id="infiniteCaptureModifier" type="range" min="0" max="10" value="1" onchange="setMultiplier('infiniteCaptureModifier', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="infiniteCaptureXMod">infiniteCapture X Mod</label>
                        <input id="infiniteCaptureXMod" type="range" min="1" max="10" value="0" onchange="setMultiplier('infiniteCaptureXMod', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="infiniteCaptureYMod">infiniteCapture Y Mod</label>
                        <input id="infiniteCaptureYMod" type="range" min="1" max="10" value="0" onchange="setMultiplier('infiniteCaptureYMod', event)">
                    </div>

                    <!-- <div class="multiplier_container sub_container column">
                        <label for="cameraTilt">Camera Tilt</label>
                        <input id="cameraTilt" type="range" min="0" max="9" value="0" step="1" onchange="setMultiplier('cameraTilt', event)">
                    </div> -->

                    <div class="multiplier_container sub_container column">
                        <label for="infiniteCaptureBrightnessThreshold">infiniteCapture Brightness Threshold</label>
                        <input id="infiniteCaptureBrightnessThreshold" type="range" min="1" max="255" value="100" onchange="setMultiplier('infiniteCaptureBrightnessThreshold', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="fractalRate">fractal Rate</label>
                        <input id="fractalRate" type="range" min="1" max="255" value="100" onchange="setMultiplier('fractalRate', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="posterizeRange">posterize filter range</label>
                        <input id="posterizeRange" type="range" min="2" max="10" value="10" onchange="setMultiplier('posterizeRange', event)">
                    </div>

                    <div class="multiplier_container sub_container column">
                        <label for="blurRange">blur filter range</label>
                        <input id="blurRange" type="range" min="1" max="10" value="1" onchange="setMultiplier('blurRange', event)">
                    </div>
                </div>

                <hr>

                <div>
                    <div class="color_container sub_container column">
                        <label for="thresholdFilterColor">threshold Filter Color</label>
                        <input id="thresholdFilterColor" type="color" value="#000000" onchange="setColor('thresholdFilterColor', event)">
                    </div>
                </div>
            </div>
                                                 
            <div class="expand_toggles" onclick="expandToggles()">>></div>
        </div>

        <video id="hidden_video_player"></video>
        
        <script src="js/p5.min.js"></script>
        <script src="js/p5.sound.js"></script>
        <!-- <script src="js/melty_marble.js" type="module"></script> -->
        <!-- <script src="js/new_main.js"></script> -->
        <script src="/js/opencv.js" type="text/javascript"></script>

        <script src="/js/new_main.js"></script>
        <!-- <script src="/js/terrain_new.js"></script> -->

    </body>
</html>